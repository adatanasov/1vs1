(this.webpackJsonp1vs1=this.webpackJsonp1vs1||[]).push([[0],{20:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n(1),r=n(13),i=n.n(r),c=(n(20),n(21),n(11)),o=n(2),u=n.n(o),l=n(3),h=n(6),p=n(7),d=n(9),f=n(8),m=n(14),y=n.n(m),b=n(5),j=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).state={value:""},a.handleChange=a.handleChange.bind(Object(b.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(b.a)(a)),a}return Object(p.a)(n,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"handleSubmit",value:function(e){var t=new URLSearchParams(window.location.search);t.set("id",this.state.value),window.location.search=t.toString(),e.preventDefault()}},{key:"render",value:function(){return Object(a.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(a.jsxs)("label",{children:["On the website go to Points and copy this number from the URL:",Object(a.jsx)("i",{children:"https://fantasy.premierleague.com/entry/"}),Object(a.jsx)("b",{children:"2458458"}),Object(a.jsx)("i",{children:"/event/16"}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),"Player ID:",Object(a.jsx)("br",{}),Object(a.jsx)("input",{type:"text",placeholder:"e.g. 2458458",value:this.state.value,onChange:this.handleChange})]}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{type:"submit",value:"Check",className:"submit-entry"})]})}}]),n}(s.Component);var v=function(e){return Object(a.jsxs)("div",{className:"entry-info",children:[e.value,Object(a.jsx)("button",{onClick:e.onChange,className:"change-entry"})]})},g=n(10);var O=function(e){if(e.leagues&&e.leagues.length>0){var t=e.leagues.map((function(e){return Object(a.jsxs)("option",{"league-id":e.id,value:e.name,children:[e.entry_rank," - ",e.name]},e.id)}));return Object(a.jsx)("optgroup",{label:e.title,children:t})}return null},x=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).state={id:-1,value:"Select a League",leagues:e.leagues},a.handleChange=a.handleChange.bind(Object(b.a)(a)),a}return Object(p.a)(n,[{key:"handleChange",value:function(e){var t=e.target.selectedIndex,n=e.target[t].getAttribute("league-id");this.setState({id:n,value:e.target.value});var a=[].concat(Object(g.a)(this.state.leagues.classic),Object(g.a)(this.state.leagues.h2h)).find((function(e){return e.id===+n}));this.props.onChange(a)}},{key:"render",value:function(){var e=this.state.leagues.classic&&this.state.leagues.classic.filter((function(e){return"x"===e.league_type})),t=this.state.leagues.h2h,n=this.state.leagues.classic.filter((function(e){return"s"===e.league_type}));return Object(a.jsxs)("select",{value:this.state.value,onChange:this.handleChange,className:"league-select",children:[Object(a.jsx)("option",{value:"Select a League",disabled:!0,hidden:!0,children:"Select a League"}),Object(a.jsx)(O,{leagues:e,title:"Classic Leagues"}),Object(a.jsx)(O,{leagues:t,title:"Head-to-Head Leagues"}),Object(a.jsx)(O,{leagues:n,title:"Global Leagues"})]})}}]),n}(s.Component),k=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(e){var a,s;return Object(h.a)(this,n),(s=t.call(this,e)).state={value:null!==(a=s.props.playerId)&&void 0!==a?a:"Select a player"},s.handleChange=s.handleChange.bind(Object(b.a)(s)),s}return Object(p.a)(n,[{key:"handleChange",value:function(e){this.setState({value:+e.target.value}),this.props.onChange(+e.target.value)}},{key:"render",value:function(){var e=this.props.rankings.map((function(e){return Object(a.jsx)("option",{value:e.entry,children:e.points_for?"".concat(e.entry_name," ").concat(e.total," (").concat(e.matches_won,"-").concat(e.matches_drawn,"-").concat(e.matches_lost,")"):"".concat(e.entry_name," ").concat(e.total," (").concat(e.event_total,")")},e.rank_sort)}));return Object(a.jsxs)("select",{value:this.state.value,onChange:this.handleChange,className:"player-select",children:[Object(a.jsx)("option",{value:"Select a player",disabled:!0,hidden:!0,children:"Select a player"}),e]})}}]),n}(s.Component);var w=function(e){return Object(a.jsxs)("div",{className:"points-wrapper",children:[Object(a.jsx)("span",{className:"points",children:e.points}),e.minusPoints<0&&Object(a.jsxs)("span",{className:"minusPoints",children:["(",e.minusPoints,")"]})]})};var _=function(e){var t=Object(a.jsxs)("svg",{viewBox:"0 0 24 24",children:[Object(a.jsx)("circle",{cx:"12",cy:"12",r:"12"}),Object(a.jsx)("path",{d:"M15.0769667,14.370341 C14.4472145,15.2780796 13.4066319,15.8124328 12.3019667,15.795341 C10.4380057,15.795341 8.92696674,14.284302 8.92696674,12.420341 C8.92696674,10.55638 10.4380057,9.045341 12.3019667,9.045341 C13.3988206,9.06061696 14.42546,9.58781014 15.0769667,10.470341 L17.2519667,8.295341 C15.3643505,6.02401882 12.1615491,5.35094208 9.51934028,6.67031017 C6.87713147,7.98967826 5.49079334,10.954309 6.17225952,13.8279136 C6.8537257,16.7015182 9.42367333,18.7279285 12.3769667,18.720341 C14.2708124,18.7262708 16.0646133,17.8707658 17.2519667,16.395341 L15.0769667,14.370341 Z",fill:"currentColor"})]}),n=Object(a.jsxs)("svg",{viewBox:"0 0 24 24",children:[Object(a.jsx)("circle",{cx:"12",cy:"12",r:"12"}),Object(a.jsx)("polygon",{points:"13.5 .375 8.925 12.375 4.65 12.375 0 .375 3.15 .375 6.75 10.05 10.35 .375",transform:"translate(5.25 6)",fill:"currentColor"})]}),s=Object(a.jsx)("svg",{x:"0px",y:"0px",viewBox:"0 0 1000 1000",enableBackground:"new 0 0 1000 1000",children:Object(a.jsx)("g",{children:Object(a.jsx)("g",{transform:"translate(0.000000,511.000000) scale(0.100000,-0.100000)",children:Object(a.jsx)("path",{d:"M4565.9,4988.3c-1114.1-104.7-2151.2-576.8-2945.4-1337.4c-727-695.4-1224.8-1590.2-1420.3-2550.3C-222.6-979.5,717.7-3077.5,2552.9-4142.2c553.1-320,1199.1-535.4,1854.9-618.3c292.4-37.5,892.9-37.5,1185.3,0c991.7,124.5,1872.7,519.6,2639.2,1181.3c675.6,582.8,1222.8,1440.1,1469.7,2295.4c513.6,1783.8,11.8,3656.5-1317.6,4930.7C7371,4618.9,5944.7,5118.6,4565.9,4988.3z M5968.4,2096.2L7934,130.7L5962.5-1838.8L3993-3810.3l-557.1,559.1l-559,557.1l1408.5,1408.5L5691.9,120.8L4289.3,1523.3c-770.4,770.4-1402.6,1410.5-1402.6,1422.3c0,19.8,1086.5,1116.1,1106.2,1116.1C3998.9,4061.8,4887.9,3176.8,5968.4,2096.2z"})})})}),r=Object(a.jsx)("svg",{x:"0px",y:"0px",viewBox:"0 0 1000 1000",enableBackground:"new 0 0 1000 1000",children:Object(a.jsx)("g",{children:Object(a.jsx)("g",{transform:"translate(0.000000,511.000000) scale(0.100000,-0.100000)",children:Object(a.jsx)("path",{d:"M4573.9,5006.6c-1148.9-116.7-2173.2-587.3-2984-1372.4C-344,1763.5-403.4-1329.2,1459.4-3273c1906.3-1989.3,5064.3-2026.9,7010.1-83.1c739.6,735.6,1204.3,1649.2,1386.2,2719c43.5,257.1,59.3,984.8,27.7,1271.5c-112.7,1026.3-520.1,1949.8-1214.2,2742.7c-622.9,711.9-1530.5,1261.6-2463.9,1495c-413.3,102.8-632.8,128.5-1117.3,136.4C4848.8,5010.5,4617.4,5010.5,4573.9,5006.6z M6565.2,3482c302.5-302.5,549.7-557.6,549.7-569.5c0-9.9-628.8-648.6-1398.1-1417.8l-1400-1400l1409.9-1409.9l1407.9-1408l-563.6-563.6l-563.6-563.6L4034-1876.9L2062.5,94.6l1967.6,1967.6c1081.7,1081.7,1971.5,1967.6,1977.5,1967.6S6264.6,3782.5,6565.2,3482z"})})})}),i=e.picks.map((function(i){return Object(a.jsxs)("li",{className:"player-pick ".concat(e.addSeparator&&11===i.position?"separator":""),children:[Object(a.jsxs)("span",{className:"player-pick-name ".concat(i.isReserve?"reserve":""," type").concat(i.type),children:[Object(a.jsx)("span",{className:"chance chance-".concat(i.chance)}),i.name]}),i.isCaptain?Object(a.jsx)("span",{className:"cap-icon ".concat(i.isTripleCaptainActive?"inverted":""),children:t}):null,i.isViceCaptain?Object(a.jsx)("span",{className:"cap-icon ".concat(i.isTripleCaptainActive?"inverted":""),children:n}):null,Object(a.jsx)("span",{className:"player-pick-points",children:i.hasMatch?i.canPlay?i.hasMatchStarted?i.points:i.opposingTeam:"x":"-"}),i.goesOut?Object(a.jsx)("span",{className:"sub-icon goes-out",children:s}):null,i.goesIn?Object(a.jsx)("span",{className:"sub-icon goes-in",children:r}):null]},i.id)}));return Object(a.jsx)("div",{className:"player-picks-wrapper",children:Object(a.jsx)("ul",{className:"player-picks",children:i})})},C=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"handlePlayerChange",value:function(e){this.props.handlePlayerChange(e)}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{className:"player-info",children:[this.props.rankings&&Object(a.jsx)(k,{playerId:this.props.playerId,rankings:this.props.rankings,onChange:function(t){return e.handlePlayerChange(t)}}),Object(a.jsx)(w,{points:this.props.totalPoints,minusPoints:this.props.minusPoints}),this.props.playersToRender&&Object(a.jsx)(_,{picks:this.props.playersToRender,addSeparator:this.props.addSeparator})]})}}]),n}(s.Component),L="https://cryptic-plains-87247.herokuapp.com/",P="".concat(L).concat("https://fantasy.premierleague.com/api"),S="".concat(L).concat("https://footballapi.pulselive.com");function I(e){return N.apply(this,arguments)}function N(){return(N=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(P,"/entry/").concat(t,"/")).then((function(e){return e.ok?e.json():Promise.reject(e)})).then((function(e){return e.isSuccess=!0,e})).catch((function(e){e.json().then((function(e){return{isSuccess:!1,error:e}}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e,t,n){return R.apply(this,arguments)}function R(){return(R=Object(l.a)(u.a.mark((function e(t,n,a){var s,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=n?"/leagues-h2h/":"/leagues-classic/",r="".concat(P).concat(s).concat(t,"/standings/"),e.abrupt("return",fetch(r).then((function(e){return e.json()})).then((function(e){if(n){var s="".concat(P,"/leagues-h2h-matches/league/").concat(t,"/?page=1&event=").concat(a);return fetch(s).then((function(e){return e.json()})).then((function(t){return{rankings:e.standings.results,matches:t.results}}))}return{rankings:e.standings.results,matches:null}})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return A.apply(this,arguments)}function A(){return(A=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(P,"/bootstrap-static/")).then((function(e){return e.json()})).then((function(e){return{footballPlayers:e.elements,teams:e.teams}})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(e){return B.apply(this,arguments)}function B(){return(B=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(P,"/event/").concat(t,"/live/")).then((function(e){return e.json()})).then((function(e){return e.elements})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e){return E.apply(this,arguments)}function E(){return(E=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(P,"/fixtures/?event=").concat(t)).then((function(e){return e.json()})).then((function(e){return e})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e,t){return J.apply(this,arguments)}function J(){return(J=Object(l.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(P,"/entry/").concat(t,"/event/").concat(n,"/picks/")).then((function(e){return e.json()})).then((function(e){return e})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e){return U.apply(this,arguments)}function U(){return(U=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(S,"/football/fixtures/").concat(t,"?altIds=true&fast=false")).then((function(e){return e.json()})).then((function(e){var t=[];return e.teamLists&&2===e.teamLists.length&&e.teamLists[0]&&e.teamLists[0].lineup&&e.teamLists[0].lineup.some((function(e){return e}))&&e.teamLists[0].substitutes&&e.teamLists[0].substitutes.some((function(e){return e}))&&e.teamLists[1]&&e.teamLists[1].lineup&&e.teamLists[1].lineup.some((function(e){return e}))&&e.teamLists[1].substitutes&&e.teamLists[1].substitutes.some((function(e){return e}))&&(t=[].concat(Object(g.a)(e.teamLists[0].lineup.map((function(e){return e.altIds.opta}))),Object(g.a)(e.teamLists[0].substitutes.map((function(e){return e.altIds.opta}))),Object(g.a)(e.teamLists[1].lineup.map((function(e){return e.altIds.opta}))),Object(g.a)(e.teamLists[1].substitutes.map((function(e){return e.altIds.opta}))))),t})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e){var t=localStorage.getItem(e);return null!==t?JSON.parse(t):null}function H(e,t){localStorage.setItem(e,JSON.stringify(t))}function Z(e,t,n,a){return q.apply(this,arguments)}function q(){return(q=Object(l.a)(u.a.mark((function e(t,n,a,s){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(r=V(t))){e.next=6;break}return e.next=4,n(a,s);case 4:r=e.sent,H(t,r);case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e,t,n,a){return K.apply(this,arguments)}function K(){return(K=Object(l.a)(u.a.mark((function e(t,n,a,s){var r,i,o,h,p;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G(n);case 2:return r=e.sent,e.next=5,D(n);case 5:if(i=e.sent,o=i.filter((function(e){return!1===e.finished_provisional})),h=[],!o.some((function(e){return e}))){e.next=11;break}return e.next=11,Promise.all(o.map(function(){var e=Object(l.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.pulse_id,e.next=3,W(n);case 3:(a=e.sent).some((function(e){return e}))&&h.push({id:n,lineup:a});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 11:return p=[],e.next=14,Promise.all(t.map(function(){var e=Object(l.a)(u.a.mark((function e(t){var o,l,d,f,m,y,b,j,v,g,O,x,k,w,_,C;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=t.name,d=t.id,f="".concat(n,"-").concat(d),e.next=5,Z(f,z,d,n);case 5:return m=e.sent,y=i.map((function(e){return e.team_h})).concat(i.map((function(e){return e.team_a}))),b=m.entry_history.event_transfers_cost,j=m.active_chip&&"bboost"===m.active_chip,v=m.active_chip&&"3xc"===m.active_chip,g=m.automatic_subs&&m.automatic_subs.length>0,O=Q(i),e.next=14,Promise.all(m.picks.map((function(e){var t,n=a.find((function(t){return t.id===e.element})),c=r.find((function(t){return t.id===e.element})),o={id:e.element,teamId:n.team,name:n.web_name,points:c.stats.total_points,minutes:c.stats.minutes,bonus:c.stats.bonus,hasMatch:y.includes(n.team),hasMatchStarted:i.some((function(e){return e.started&&(e.team_h===n.team||e.team_a===n.team)})),opposingTeam:X(i,s,n.team),canPlay:null,hasPlayed:c.stats.minutes>0||c.stats.yellow_cards>0||c.stats.red_cards>0,goesIn:null,goesOut:null,isReserve:null,isCaptain:e.is_captain,isViceCaptain:e.is_vice_captain,isTripleCaptainActive:v,multiplier:e.multiplier,position:e.position,type:n.element_type,chance:null!==(t=n.chance_of_playing_this_round)&&void 0!==t?t:100,optaCode:"p"+n.code};o.canPlay=Y(o,i,h);var u=O.find((function(e){return e.element===o.id}));return u&&(o.bonus+=u.points,o.points+=u.points),o})));case 14:x=e.sent,j||($(x,11),g?ee(x,m.automatic_subs):te(x)),k=x.find((function(e){return e.isCaptain})),w=v?3:2,x.map((function(e){return e.points=ae(e,k.canPlay,w)})),_=se(x)-b,o={id:d},Object(c.a)(o,"".concat(l,"picks"),m.picks),Object(c.a)(o,"".concat(l,"addSeparator"),!j),Object(c.a)(o,"".concat(l,"totalPoints"),_),Object(c.a)(o,"".concat(l,"minusPoints"),-b),Object(c.a)(o,"".concat(l,"playersToRender"),x),C=o,p.push(C);case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 14:return e.abrupt("return",p);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(e){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t.reduce((function(e,t){return e.concat.apply(e,Object(g.a)(t))}),[]);return a}(e.filter((function(e){return e.started&&0===e.stats.find((function(e){return"bonus"===e.identifier})).h.length&&0===e.stats.find((function(e){return"bonus"===e.identifier})).a.length})).map((function(e){var t=[].concat(Object(g.a)(e.stats.find((function(e){return"bps"===e.identifier})).h),Object(g.a)(e.stats.find((function(e){return"bps"===e.identifier})).a));if(!t||0===t.length)return[];t.sort((function(e,t){return t.value-e.value}));var n=3;t[0].points=n;for(var a=1,s=1,r=[t[0]],i=1;i<t.length;i++)if(t[i].value===t[i-1].value)t[i].points=n,3===n&&a++,s++,r.push(t[i]);else{if(s>=3)break;a>1?n=1:n--,t[i].points=n,s++,r.push(t[i])}return r})))}function X(e,t,n){var a=e.find((function(e){return e.team_h===n||e.team_a===n}));if(a){var s="";return s=a.team_h===n?a.team_a:a.team_h,t.find((function(e){return e.id===s})).short_name}return null}function Y(e,t,n){var a=e.hasMatch,s=a;if(a){var r=t.filter((function(t){return t.team_h===e.teamId||t.team_a===e.teamId})),i=r.filter((function(e){return!1===e.finished_provisional}));if(!i.some((function(e){return e})))s=e.hasPlayed;else if(1===r.length&&1===i.length){var c=i[0].pulse_id;if(n.some((function(e){return e.id===c})))s=n.find((function(e){return e.id===c})).lineup.some((function(t){return t===e.optaCode}))}}return s}function $(e,t){for(var n=t;n<e.length;n++)e[n].isReserve=!0}function ee(e,t){for(var n=function(n){var a=t[n];e.find((function(e){return e.id===a.element_in})).goesIn=!0,e.find((function(e){return e.id===a.element_out})).goesOut=!0},a=0;a<t.length;a++)n(a)}function te(e){var t=e.find((function(e){return 1===e.position}));if(!t.canPlay){var n=e.find((function(e){return 12===e.position}));n.hasPlayed&&(t.goesOut=!0,n.goesIn=!0)}for(var a=e.filter((function(e){return e.position>1&&!e.isReserve&&(!e.hasMatch||!e.canPlay)})),s=e.filter((function(e){return e.position>12&&e.canPlay})),r=0;r<a.length;r++)for(var i=a[r],c=0;c<s.length;c++){var o=s[c];if(!o.goesIn&&ne(e,i.type,o.type)){if(o.hasPlayed){i.goesOut=!0,o.goesIn=!0;break}break}}}function ne(e,t,n){if(t===n||3===t)return!0;var a=e.filter((function(e){return!e.isReserve&&!e.goesOut||e.isReserve&&e.goesOut})).filter((function(e){return e.type===t})).length;return!(2===t&&a<=3)&&!(4===t&&a<=1)}function ae(e,t,n){return e.isCaptain&&t?e.points*e.multiplier:e.isViceCaptain&&e.hasMatch&&!t?e.points*n:e.points}function se(e){return e.filter((function(e){return!e.isReserve&&!e.goesOut||e.isReserve&&e.goesIn})).reduce((function(e,t){return e+t.points}),0)}var re=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).state={isLoading:!1,player1picks:null,player2picks:null,player1totalPoints:0,player2totalPoints:0,player1minusPoints:null,player2minusPoints:null,player1playersToRender:null,player2playersToRender:null,player1addSeparator:!0,player2addSeparator:!0},a.refresh=a.refresh.bind(Object(b.a)(a)),a.backToLeague=a.backToLeague.bind(Object(b.a)(a)),a}return Object(p.a)(n,[{key:"refresh",value:function(e){this.props.refresh()}},{key:"backToLeague",value:function(e){this.props.backToLeague()}},{key:"showLoader",value:function(){this.setState({isLoading:!0}),this.props.showLoader()}},{key:"hideLoader",value:function(){this.setState({isLoading:!1}),this.props.hideLoader()}},{key:"componentDidMount",value:function(){this.props.gameweek<=this.props.currentGameweek&&(this.showLoader(),this.getPicksData(this.props.player1,this.props.player2,this.props.gameweek),this.hideLoader())}},{key:"handlePlayerChange",value:function(e,t){this.props.handlePlayerChange(e,t)}},{key:"getPicksData",value:function(){var e=Object(l.a)(u.a.mark((function e(t,n,a){var s,r=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=[],t&&s.push({id:t,name:"player1"}),n&&s.push({id:n,name:"player2"}),!s.some((function(e){return e}))){e.next=8;break}return e.next=6,F(s,a,this.props.footballPlayers,this.props.teams);case 6:e.sent.forEach((function(e){return r.setState(e)}));case 8:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{className:"details-wrapper",children:[Object(a.jsxs)("div",{className:"players-info",children:[this.props.rankings&&Object(a.jsx)(C,{playerId:this.props.player1,rankings:this.props.rankings,totalPoints:this.state.player1totalPoints,minusPoints:this.state.player1minusPoints,playersToRender:this.state.player1playersToRender,handlePlayerChange:function(t){return e.handlePlayerChange("player1",t)},addSeparator:this.state.player1addSeparator},"".concat(this.props.player1,"-").concat(this.state.player1totalPoints)),this.props.rankings&&Object(a.jsx)(C,{playerId:this.props.player2,rankings:this.props.rankings,totalPoints:this.state.player2totalPoints,minusPoints:this.state.player2minusPoints,playersToRender:this.state.player2playersToRender,handlePlayerChange:function(t){return e.handlePlayerChange("player2",t)},addSeparator:this.state.player2addSeparator},"".concat(this.props.player2,"-").concat(this.state.player2totalPoints))]}),Object(a.jsxs)("div",{className:"refresh-wrapper",children:[this.props.ish2h?Object(a.jsx)("button",{onClick:this.backToLeague,className:"refresh back",children:"Go back"}):null,Object(a.jsx)("button",{onClick:this.refresh,className:"refresh",disabled:this.state.isLoading,children:"Refresh"})]})]})}}]),n}(s.Component),ie=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).state={isLoading:!1},a.openMatch=a.openMatch.bind(Object(b.a)(a)),a.refreshAll=a.refreshAll.bind(Object(b.a)(a)),a}return Object(p.a)(n,[{key:"openMatch",value:function(e,t){this.props.openMatch(e,t)}},{key:"refreshAll",value:function(e){this.props.refreshAll()}},{key:"render",value:function(){var e=this;if(this.props.matches&&this.props.matches.length>0){var t=this.props.matches.map((function(t){return Object(a.jsxs)("div",{className:"match-row"+(e.props.playerId===t.entry_1_entry||e.props.playerId===t.entry_2_entry?" own-match":""),onClick:function(){return e.openMatch(t.entry_1_entry,t.entry_2_entry)},children:[Object(a.jsxs)("span",{className:"match-player text-right pr10",children:[Object(a.jsx)("div",{className:"text-ellipsis",children:t.entry_1_name}),Object(a.jsx)("div",{className:"text-ellipsis",children:t.entry_1_player_name})]}),Object(a.jsx)("span",{className:"points-small pr5",children:t.entry_1_points}),Object(a.jsx)("span",{className:"points-small pl5",children:t.entry_2_points}),Object(a.jsxs)("span",{className:"match-player text-left pl10",children:[Object(a.jsx)("div",{className:"text-ellipsis",children:t.entry_2_name}),Object(a.jsx)("div",{className:"text-ellipsis",children:t.entry_2_player_name})]})]},t.id)}));return Object(a.jsxs)("div",{children:[t,Object(a.jsx)("div",{className:"refresh-wrapper",children:this.props.inProgress?Object(a.jsx)("button",{onClick:this.refreshAll,className:"refresh",disabled:this.state.isLoading,children:"Refresh all"}):null})]})}return null}}]),n}(s.Component),ce=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).state={value:e.currentEvent},a.handleChange=a.handleChange.bind(Object(b.a)(a)),a}return Object(p.a)(n,[{key:"handleChange",value:function(e){this.setState({value:e.target.value}),this.props.onChange(+e.target.value)}},{key:"render",value:function(){for(var e=Array(38),t=0;t<e.length;t++)e[t]={name:"GW ".concat(t+1).concat(this.props.currentEvent===t+1?" - current":""),value:t+1};var n=e.map((function(e){return Object(a.jsx)("option",{value:e.value,children:e.name},e.name)}));return Object(a.jsx)("select",{value:this.state.value,onChange:this.handleChange,className:"event-select",children:n})}}]),n}(s.Component),oe=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(e){var a;Object(h.a)(this,n),a=t.call(this,e);var s=new URLSearchParams(window.location.search),r=parseInt(s.get("id"));return r?localStorage.setItem("PlayerId",r):(r=localStorage.getItem("PlayerId"))&&(s.set("id",r),window.location.search=s.toString()),a.state={isLoading:!1,playerId:r,playerName:null,playerInfo:null,currentGameweek:null,gameweek:null,leagues:null,selectedLeague:null,rankings:null,matches:null,showMatches:!1,footballPlayers:null,teams:null,player1:r,player2:null,inProgress:null,seed:"new"},a}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.state.playerId&&this.handlePlayerId(this.state.playerId),e.next=3,T();case 3:t=e.sent,this.setState(t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handlePlayerId",value:function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.showLoader(),localStorage.setItem("PlayerId",t),e.next=4,I(t);case 4:n=e.sent,this.handlePlayerInfo(n),this.hideLoader(n);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handlePlayerInfo",value:function(e){var t;t=e.isSuccess?"".concat(e.name,", ").concat(e.player_first_name," ").concat(e.player_last_name):e.error,this.setState({playerId:e.id,playerName:t,playerInfo:e,currentGameweek:e.current_event,gameweek:e.current_event,leagues:e.leagues,player1:e.id}),this.handleGameWeekChange(this.state.gameweek)}},{key:"handlePlayerReset",value:function(){this.setState({playerId:null,playerName:null,playerInfo:null,leagues:null})}},{key:"handleLeagueChange",value:function(){var e=Object(l.a)(u.a.mark((function e(t){var n,a,s,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.showLoader(),t.ish2h="h"===t.scoring,this.setState({selectedLeague:t}),e.next=5,M(t.id,t.ish2h,this.state.gameweek);case 5:if(n=e.sent,!t.ish2h||!n.matches){e.next=17;break}if(a=0===n.matches[0].entry_1_total&&0===n.matches[0].entry_2_total,this.setState({inProgress:a,showMatches:!0}),!a||this.state.currentGameweek!==this.state.gameweek){e.next=15;break}return s=n.matches.map((function(e){return[e.entry_1_entry,e.entry_2_entry]})).flat().map((function(e){return{id:e,name:e}})),e.next=13,F(s,this.state.gameweek,this.state.footballPlayers,this.state.teams);case 13:r=e.sent,n.matches.forEach((function(e){e.entry_1_points=r.find((function(t){return t.id===e.entry_1_entry}))["".concat(e.entry_1_entry,"totalPoints")],e.entry_2_points=r.find((function(t){return t.id===e.entry_2_entry}))["".concat(e.entry_2_entry,"totalPoints")]}));case 15:e.next=18;break;case 17:this.setState({showMatches:!1});case 18:this.setState(n),this.setState({player1:this.state.playerId,player2:null}),this.hideLoader();case 21:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleGameWeekChange",value:function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.showLoader(),this.setState({gameweek:t}),(null===(n=this.state.selectedLeague)||void 0===n?void 0:n.ish2h)&&this.state.showMatches&&this.handleLeagueChange(this.state.selectedLeague),this.hideLoader();case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handlePlayerChange",value:function(e,t){this.setState(Object(c.a)({},"".concat(e),t))}},{key:"openMatch",value:function(e,t){this.setState({player1:e,player2:t,showMatches:!1})}},{key:"backToLeague",value:function(){this.setState({showMatches:!0})}},{key:"refresh",value:function(){this.setState({seed:(new Date).getTime()})}},{key:"refreshAll",value:function(){this.handleLeagueChange(this.state.selectedLeague)}},{key:"showLoader",value:function(){this.setState({isLoading:!0})}},{key:"hideLoader",value:function(){this.setState({isLoading:!1})}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{className:"app",children:[Object(a.jsx)(y.a,{type:"Oval",color:"#37003C",height:80,width:80,visible:this.state.isLoading,className:"loader"}),!this.state.selectedLeague&&Object(a.jsx)("div",{className:"version",children:"v.1.50"}),!this.state.playerId&&Object(a.jsx)(j,{}),this.state.playerId&&this.state.playerName&&Object(a.jsx)(v,{value:this.state.playerName,onChange:function(){return e.handlePlayerReset()}}),this.state.playerId&&this.state.leagues&&Object(a.jsx)(x,{leagues:this.state.leagues,onChange:function(t){return e.handleLeagueChange(t)}}),this.state.gameweek&&this.state.rankings&&Object(a.jsx)(ce,{currentEvent:this.state.currentGameweek,onChange:function(t){return e.handleGameWeekChange(t)}}),this.state.matches&&this.state.showMatches&&Object(a.jsx)(ie,{playerId:this.state.playerId,gameweek:this.state.gameweek,matches:this.state.matches,inProgress:this.state.inProgress,openMatch:function(t,n){return e.openMatch(t,n)},refreshAll:function(){return e.refreshAll()}}),this.state.playerId&&this.state.gameweek&&this.state.rankings&&!this.state.showMatches&&Object(a.jsx)(re,{player1:this.state.player1,player2:this.state.player2,gameweek:this.state.gameweek,currentGameweek:this.state.currentGameweek,rankings:this.state.rankings,footballPlayers:this.state.footballPlayers,teams:this.state.teams,ish2h:this.state.selectedLeague.ish2h,showLoader:function(){return e.showLoader()},hideLoader:function(){return e.hideLoader()},backToLeague:function(){return e.backToLeague()},refresh:function(){return e.refresh()},handlePlayerChange:function(t,n){return e.handlePlayerChange(t,n)}},"".concat(this.state.gameweek,"-").concat(this.state.player1,"-").concat(this.state.player2,"-").concat(this.state.seed))]})}}]),n}(s.Component);i.a.render(Object(a.jsx)(oe,{}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.2a6e1c6e.chunk.js.map