{"version":3,"sources":["index.js"],"names":["ProxyUrl","ApiBaseUrl","EntryForm","props","state","value","localStorage","getItem","handleChange","bind","handleSubmit","event","this","setState","target","url","fetch","then","response","json","data","afterSubmit","setItem","preventDefault","onSubmit","type","placeholder","onChange","React","Component","PlayerName","className","onClick","LeagueForm","id","leagues","index","selectedIndex","leagueId","getAttribute","league","classic","h2h","find","el","classicLeagues","filter","le","league_type","h2hLeagues","globalLeagues","disabled","hidden","LeagueGroup","title","length","options","map","league-id","name","entry_rank","label","Standings","results","urlLeague","scoring","standings","players","pla","rank","entry_name","player_name","total","event_total","App","playerName","player_first_name","player_last_name","player_region_name","playerInfo","pi","handlePlayerInfo","handlePlayerChange","d","handleLeagueChange","selectedLeague","ReactDOM","render","document","getElementById"],"mappings":"yLAIIA,G,MAAW,+CACXC,EAAa,wCAEXC,E,kDACF,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IACDC,MAAQ,CAACC,MAAOC,aAAaC,QAAQ,aAE1C,EAAKC,aAAe,EAAKA,aAAaC,KAAlB,gBACpB,EAAKC,aAAe,EAAKA,aAAaD,KAAlB,gBALH,E,yDAQNE,GACTC,KAAKC,SAAS,CAACR,MAAOM,EAAMG,OAAOT,U,mCAG1BM,GAAQ,IAAD,OACZI,EAAMf,EAAWC,EAAa,UAAYW,KAAKR,MAAMC,MAAQ,IAEjEW,MAAMD,GACLE,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GACF,EAAKjB,MAAMkB,YAAYD,MAG3Bd,aAAagB,QAAQ,WAAYV,KAAKR,MAAMC,OAC5CM,EAAMY,mB,+BAIR,OACE,uBAAMC,SAAUZ,KAAKF,aAArB,UACI,+CACc,uBACV,uBACIe,KAAK,OACLC,YAAY,eACZrB,MAAOO,KAAKR,MAAMC,MAClBsB,SAAUf,KAAKJ,kBAEvB,uBAAOiB,KAAK,SAASpB,MAAM,iB,GArCfuB,IAAMC,WA2C9B,SAASC,EAAW3B,GAChB,OACI,sBAAK4B,UAAU,aAAf,UACK5B,EAAME,MACP,wBAAQ2B,QAAS7B,EAAMwB,SAAvB,uB,IAKNM,E,kDACF,WAAY9B,GAAQ,IAAD,8BACf,cAAMA,IACDC,MAAQ,CAAC8B,IAAK,EAAG7B,MAAO,kBAAmB8B,QAAShC,EAAMgC,SAE/D,EAAK3B,aAAe,EAAKA,aAAaC,KAAlB,gBAJL,E,yDAONE,GACT,IAAMyB,EAAQzB,EAAMG,OAAOuB,cAErBC,EADgB3B,EAAMG,OAAOsB,GACJG,aAAa,aAC5C3B,KAAKC,SAAS,CAACqB,GAAII,EAAUjC,MAAOM,EAAMG,OAAOT,QAEjD,IACMmC,EADU,sBAAQ5B,KAAKR,MAAM+B,QAAQM,SAA3B,YAAuC7B,KAAKR,MAAM+B,QAAQO,MAChDC,MAAK,SAAAC,GAAE,OAAIA,EAAGV,MAAQI,KAChD1B,KAAKT,MAAMwB,SAASa,K,+BAIpB,IAAMK,EAAiBjC,KAAKR,MAAM+B,QAAQM,SAAW7B,KAAKR,MAAM+B,QAAQM,QAAQK,QAAO,SAAAC,GAAE,MAAuB,MAAnBA,EAAGC,eAC1FC,EAAarC,KAAKR,MAAM+B,QAAQO,IAChCQ,EAAgBtC,KAAKR,MAAM+B,QAAQM,QAAQK,QAAO,SAAAC,GAAE,MAAuB,MAAnBA,EAAGC,eAEjE,OACI,+BACI,6CACY,uBACR,yBAAQ3C,MAAOO,KAAKR,MAAMC,MAAOsB,SAAUf,KAAKJ,aAAhD,UACI,wBAAQH,MAAM,kBAAkB8C,UAAQ,EAACC,QAAM,EAA/C,6BACA,cAACC,EAAD,CAAalB,QAASU,EAAgBS,MAAM,oBAC5C,cAACD,EAAD,CAAalB,QAASc,EAAYK,MAAM,yBACxC,cAACD,EAAD,CAAalB,QAASe,EAAeI,MAAM,+B,GAhC1C1B,IAAMC,WAwC/B,SAASwB,EAAYlD,GACjB,GAAIA,EAAMgC,SAAWhC,EAAMgC,QAAQoB,OAAS,EAAG,CAC3C,IAAMC,EAAUrD,EAAMgC,QAAQsB,KAAI,SAAAV,GAAE,OAChC,yBAAoBW,YAAWX,EAAGb,GAAI7B,MAAO0C,EAAGY,KAAhD,UAAuDZ,EAAGa,WAA1D,MAAyEb,EAAGY,OAA/DZ,EAAGb,OAGpB,OACI,0BAAU2B,MAAO1D,EAAMmD,MAAvB,SACKE,IAIT,OAAO,K,IAITM,E,kDACF,WAAY3D,GAAQ,IAAD,8BACf,cAAMA,IAEDC,MAAQ,CAAC2D,QAAS,MAHR,E,gEAME,IAAD,OACZC,EAAmC,MAAvBpD,KAAKT,MAAM8D,QAAkB,oBAAsB,gBAC/DlD,EAAMf,EAAWC,EAAa+D,EAAYpD,KAAKT,MAAM+B,GAAK,cAE9DlB,MAAMD,GACLE,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GACF,EAAKP,SAAS,CAACkD,QAAS3C,EAAK8C,UAAUH,e,+BAK3C,GAAInD,KAAKR,MAAM2D,QAAS,CACpB,IAAII,EAAUvD,KAAKR,MAAM2D,QAAQN,KAAI,SAAAW,GAAG,OACpC,+BAAoBA,EAAIC,KAAxB,KAAgCD,EAAIE,WAApC,KAAkDF,EAAIG,YAAtD,IAAoEH,EAAII,MAAxE,KAAiFJ,EAAIK,YAArF,MAASL,EAAIC,SAGjB,OACI,oBAAItC,UAAU,WAAd,SACKoC,IAIT,OAAO,S,GA9BKvC,IAAMC,WAmCxB6C,E,kDACF,WAAYvE,GAAQ,IAAD,8BACf,cAAMA,IACDC,MAAQ,CAAC,WAAc,GAAI,WAAc,GAAI,QAAW,KAAM,eAAkB,MAFtE,E,6DAKFgB,GAEb,IAAIuD,EAAU,UAAMvD,EAAKuC,KAAX,aAAoBvC,EAAKwD,kBAAzB,YAA8CxD,EAAKyD,iBAAnD,aAAwEzD,EAAK0D,oBAC3FlE,KAAKC,SAAS,CAAC8D,WAAYA,EAAYI,WAAY3D,EAAMe,QAASf,EAAKe,Y,2CAIvEvB,KAAKC,SAAS,CAAC,WAAc,GAAI,WAAc,GAAI,QAAW,S,yCAG/C2B,GACf5B,KAAKC,SAAS,CAAC,eAAkB2B,M,+BAG3B,IAAD,OACL,OACI,sBAAKT,UAAU,MAAf,WACMnB,KAAKR,MAAMuE,YAAc,cAACzE,EAAD,CAAWmB,YAAa,SAAC2D,GAAD,OAAQ,EAAKC,iBAAiBD,MAChFpE,KAAKR,MAAMuE,YAAc,cAAC7C,EAAD,CAAYzB,MAAOO,KAAKR,MAAMuE,WAAYhD,SAAU,kBAAM,EAAKuD,wBACxFtE,KAAKR,MAAM+B,SAAW,cAACF,EAAD,CAAYE,QAASvB,KAAKR,MAAM+B,QAASR,SAAU,SAACwD,GAAD,OAAO,EAAKC,mBAAmBD,MACxGvE,KAAKR,MAAMiF,gBAAkB,cAACvB,EAAD,CAAW5B,GAAItB,KAAKR,MAAMiF,eAAenD,GAAI+B,QAASrD,KAAKR,MAAMiF,eAAepB,iB,GA1B5GrC,IAAMC,WAkCxByD,IAASC,OACL,cAACb,EAAD,IACAc,SAASC,eAAe,U","file":"static/js/main.2135366e.chunk.js","sourcesContent":["import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\n\r\nvar ProxyUrl = 'https://ancient-depths-46233.herokuapp.com/';\r\nvar ApiBaseUrl = 'https://fantasy.premierleague.com/api';\r\n\r\nclass EntryForm extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n      this.state = {value: localStorage.getItem(\"PlayerId\")};\r\n\r\n      this.handleChange = this.handleChange.bind(this);\r\n      this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n  \r\n    handleChange(event) {    \r\n        this.setState({value: event.target.value});  \r\n    }\r\n\r\n    handleSubmit(event) {\r\n        let url = ProxyUrl + ApiBaseUrl + '/entry/' + this.state.value + '/';\r\n\r\n        fetch(url)\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            this.props.afterSubmit(data);\r\n        });\r\n\r\n        localStorage.setItem(\"PlayerId\", this.state.value);\r\n        event.preventDefault();\r\n    }\r\n  \r\n    render() {\r\n      return (\r\n        <form onSubmit={this.handleSubmit}>\r\n            <label>\r\n                Player ID:<br/>\r\n                <input \r\n                    type=\"text\" \r\n                    placeholder=\"e.g. 2458458\"\r\n                    value={this.state.value} \r\n                    onChange={this.handleChange} />        \r\n            </label>\r\n            <input type=\"submit\" value=\"Check\" />\r\n        </form>\r\n      );\r\n    }\r\n}\r\n\r\nfunction PlayerName(props) {\r\n    return (\r\n        <div className=\"entry-info\" >\r\n            {props.value}\r\n            <button onClick={props.onChange}>Change</button>\r\n        </div>\r\n    );    \r\n}\r\n\r\nclass LeagueForm extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {id: -1, value: \"Select a League\", leagues: props.leagues};\r\n  \r\n        this.handleChange = this.handleChange.bind(this);\r\n    }\r\n  \r\n    handleChange(event) {    \r\n        const index = event.target.selectedIndex;\r\n        const optionElement = event.target[index];\r\n        const leagueId = optionElement.getAttribute('league-id');\r\n        this.setState({id: leagueId, value: event.target.value});  \r\n\r\n        const allLeagues = [ ...this.state.leagues.classic, ...this.state.leagues.h2h ];\r\n        const league = allLeagues.find(el => el.id === +leagueId);\r\n        this.props.onChange(league);\r\n    }\r\n  \r\n    render() {\r\n        const classicLeagues = this.state.leagues.classic && this.state.leagues.classic.filter(le => le.league_type === 'x');\r\n        const h2hLeagues = this.state.leagues.h2h;\r\n        const globalLeagues = this.state.leagues.classic.filter(le => le.league_type === 's');\r\n\r\n        return (\r\n            <form>\r\n                <label>\r\n                    Leagues:<br/>\r\n                    <select value={this.state.value} onChange={this.handleChange}>\r\n                        <option value=\"Select a League\" disabled hidden>Select a League</option>\r\n                        <LeagueGroup leagues={classicLeagues} title=\"Classic Leagues\" />       \r\n                        <LeagueGroup leagues={h2hLeagues} title=\"Head-to-Head Leagues\" />       \r\n                        <LeagueGroup leagues={globalLeagues} title=\"Global Leagues\" />       \r\n                    </select>       \r\n                </label>\r\n            </form>\r\n        );\r\n    }\r\n}\r\n\r\nfunction LeagueGroup(props) {\r\n    if (props.leagues && props.leagues.length > 0) {\r\n        const options = props.leagues.map(le => (\r\n            <option key={le.id} league-id={le.id} value={le.name}>{le.entry_rank} - {le.name}</option>\r\n        ));\r\n\r\n        return (\r\n            <optgroup label={props.title}>                    \r\n                {options}\r\n            </optgroup>  \r\n        );\r\n    } else {\r\n        return null;\r\n    }\r\n}\r\n\r\nclass Standings extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {results: null};\r\n    }\r\n\r\n    componentDidMount() {\r\n        let urlLeague = this.props.scoring === 'c' ? '/leagues-classic/' : '/leagues-h2h/';\r\n        let url = ProxyUrl + ApiBaseUrl + urlLeague + this.props.id + '/standings/';\r\n    \r\n        fetch(url)\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            this.setState({results: data.standings.results});            \r\n        });\r\n    }\r\n\r\n    render() {\r\n        if (this.state.results) {\r\n            let players = this.state.results.map(pla => (\r\n                <li key={pla.rank}>{pla.rank}. {pla.entry_name}, {pla.player_name} {pla.total} ({pla.event_total})</li>\r\n            ));\r\n\r\n            return (\r\n                <ol className=\"rankings\">\r\n                    {players}\r\n                </ol>\r\n            );\r\n        } else {\r\n            return null;\r\n        }        \r\n    }    \r\n}\r\n\r\nclass App extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\"playerName\": '', \"playerInfo\": '', \"leagues\": null, \"selectedLeague\": null};\r\n    }\r\n\r\n    handlePlayerInfo(data) {\r\n        //console.log(data);        \r\n        let playerName = `${data.name}, ${data.player_first_name} ${data.player_last_name}, ${data.player_region_name}`;\r\n        this.setState({playerName: playerName, playerInfo: data, leagues: data.leagues});        \r\n    }\r\n\r\n    handlePlayerChange() {\r\n        this.setState({\"playerName\": '', \"playerInfo\": '', \"leagues\": null});\r\n    }\r\n\r\n    handleLeagueChange(league) {\r\n        this.setState({\"selectedLeague\": league});\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"app\">\r\n                {!this.state.playerName && <EntryForm afterSubmit={(pi) => this.handlePlayerInfo(pi)} />}\r\n                {this.state.playerName && <PlayerName value={this.state.playerName} onChange={() => this.handlePlayerChange()} />}\r\n                {this.state.leagues && <LeagueForm leagues={this.state.leagues} onChange={(d) => this.handleLeagueChange(d)} />}  \r\n                {this.state.selectedLeague && <Standings id={this.state.selectedLeague.id} scoring={this.state.selectedLeague.scoring} />}              \r\n            </div>\r\n        );\r\n    }\r\n}\r\n  \r\n// ========================================\r\n  \r\nReactDOM.render(\r\n    <App />,\r\n    document.getElementById('root')\r\n);"],"sourceRoot":""}