{"version":3,"sources":["index.js"],"names":["EntryForm","props","state","value","localStorage","getItem","handleChange","bind","handleSubmit","event","this","setState","target","url","proxyUrl","fetch","then","response","json","data","afterSubmit","setItem","preventDefault","onSubmit","type","placeholder","onChange","React","Component","PlayerName","className","onClick","LeaguesForm","id","rank","leagues","classicLeagues","classic","filter","le","league_type","h2hLeagues","h2h","globalLeagues","selected","disabled","hidden","LeagueGroup","title","length","options","map","name","entry_rank","label","App","console","log","playerName","player_first_name","player_last_name","player_region_name","playerInfo","pi","handlePlayerInfo","handlePlayerChange","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.285e9a17.chunk.js","sourcesContent":["import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\n\r\nclass EntryForm extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n      this.state = {value: localStorage.getItem(\"PlayerId\")};\r\n\r\n      this.handleChange = this.handleChange.bind(this);\r\n      this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n  \r\n    handleChange(event) {    \r\n        this.setState({value: event.target.value});  \r\n    }\r\n\r\n    handleSubmit(event) {\r\n        const proxyUrl = 'https://ancient-depths-46233.herokuapp.com/';\r\n        let url = proxyUrl + 'https://fantasy.premierleague.com/api/entry/' + this.state.value + '/';\r\n\r\n        fetch(url)\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            this.props.afterSubmit(data);\r\n        });\r\n\r\n        localStorage.setItem(\"PlayerId\", this.state.value);\r\n        event.preventDefault();\r\n    }\r\n  \r\n    render() {\r\n      return (\r\n        <form onSubmit={this.handleSubmit}>\r\n            <label>\r\n                Player ID:<br/>\r\n                <input \r\n                    type=\"text\" \r\n                    placeholder=\"e.g. 2458458\"\r\n                    value={this.state.value} \r\n                    onChange={this.handleChange} />        \r\n            </label>\r\n            <input type=\"submit\" value=\"Check\" />\r\n        </form>\r\n      );\r\n    }\r\n}\r\n\r\nfunction PlayerName(props) {\r\n    return (\r\n        <div className=\"entry-info\" >\r\n            {props.value}\r\n            <button onClick={props.onChange}>Change</button>\r\n        </div>\r\n    );    \r\n}\r\n\r\nclass LeaguesForm extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {id: -1, value: null, rank: -1, leagues: props.leagues};\r\n  \r\n        this.handleChange = this.handleChange.bind(this);\r\n    }\r\n  \r\n    handleChange(event) {    \r\n        this.setState({value: event.target.value});  \r\n    }\r\n  \r\n    render() {\r\n        const classicLeagues = this.state.leagues.classic && this.state.leagues.classic.filter(le => le.league_type === 'x');\r\n        const h2hLeagues = this.state.leagues.h2h;\r\n        const globalLeagues = this.state.leagues.classic.filter(le => le.league_type === 's');\r\n\r\n        return (\r\n            <form>\r\n                <label>\r\n                    Leagues:<br/>\r\n                    <select value={this.state.value} onChange={this.handleChange}>\r\n                        <option value=\"none\" selected disabled hidden>Select a League</option>\r\n                        <LeagueGroup leagues={classicLeagues} title=\"Classic Leagues\" />       \r\n                        <LeagueGroup leagues={h2hLeagues} title=\"Head-to-Head Leagues\" />       \r\n                        <LeagueGroup leagues={globalLeagues} title=\"Global Leagues\" />       \r\n                    </select>       \r\n                </label>\r\n            </form>\r\n        );\r\n    }\r\n}\r\n\r\nfunction LeagueGroup(props) {\r\n    if (props.leagues && props.leagues.length > 0) {\r\n        const options = props.leagues.map(le => (\r\n            <option value={le.name}>{le.entry_rank} - {le.name}</option>\r\n        ));\r\n\r\n        return (\r\n            <optgroup label={props.title}>                    \r\n                {options}\r\n            </optgroup>  \r\n        );\r\n    } else {\r\n        return null;\r\n    }\r\n}\r\n\r\nclass App extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\"playerName\": '', \"playerInfo\": '', \"leagues\": null};\r\n    }\r\n\r\n    handlePlayerInfo(data) {\r\n        console.log(data);        \r\n        let playerName = `${data.name}, ${data.player_first_name} ${data.player_last_name}, ${data.player_region_name}`;\r\n        this.setState({playerName: playerName, playerInfo: data, leagues: data.leagues});        \r\n    }\r\n\r\n    handlePlayerChange() {\r\n        this.setState({\"playerName\": '', \"playerInfo\": '', \"leagues\": null});\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"app\">\r\n                {!this.state.playerName && <EntryForm afterSubmit={(pi) => this.handlePlayerInfo(pi)} />}\r\n                {this.state.playerName && <PlayerName value={this.state.playerName} onChange={() => this.handlePlayerChange()} />}\r\n                {this.state.leagues && <LeaguesForm leagues={this.state.leagues} />}                \r\n            </div>\r\n        );\r\n    }\r\n}\r\n  \r\n// ========================================\r\n  \r\nReactDOM.render(\r\n    <App />,\r\n    document.getElementById('root')\r\n);"],"sourceRoot":""}