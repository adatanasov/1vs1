{"version":3,"sources":["index.js"],"names":["ProxyUrl","ApiBaseUrl","EntryForm","props","state","value","localStorage","getItem","handleChange","bind","handleSubmit","event","this","setState","target","url","fetch","then","response","json","data","afterSubmit","setItem","preventDefault","onSubmit","type","placeholder","onChange","className","React","Component","PlayerName","onClick","LeagueForm","id","leagues","index","selectedIndex","leagueId","getAttribute","league","classic","h2h","find","el","classicLeagues","filter","le","league_type","h2hLeagues","globalLeagues","disabled","hidden","LeagueGroup","title","length","options","map","league-id","name","entry_rank","label","PlayerSelector","players","rankings","pla","entry","event_total","entry_name","total","matches_won","matches_drawn","matches_lost","rank","PlayerPoints","points","PlayerPicks","captainSvg","viewBox","cx","cy","r","d","fill","viceCaptainSvg","transform","picks","pick","isCaptain","isViceCaptain","PlayerInfo","playerId","footballPlayers","playersToRender","liveStats","totalPoints","elements","actualPlayer","pl","element","actualStat","decoratedPick","web_name","stats","total_points","is_captain","is_vice_captain","multiplier","position","getPickPoints","slice","reduce","acc","curr","pi","handlePlayerChange","App","playerName","playerInfo","currentEvent","selectedLeague","player_first_name","player_last_name","current_event","urlLeague","scoring","standings","results","handlePlayerInfo","handleLeagueChange","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.cf960302.chunk.js","sourcesContent":["import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\n\r\nvar ProxyUrl = 'https://ancient-depths-46233.herokuapp.com/';\r\nvar ApiBaseUrl = 'https://fantasy.premierleague.com/api';\r\n\r\nclass EntryForm extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n      this.state = {value: localStorage.getItem(\"PlayerId\")};\r\n\r\n      this.handleChange = this.handleChange.bind(this);\r\n      this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n  \r\n    handleChange(event) {    \r\n        this.setState({value: event.target.value});  \r\n    }\r\n\r\n    handleSubmit(event) {\r\n        const url = `${ProxyUrl}${ApiBaseUrl}/entry/${this.state.value}/`;\r\n\r\n        fetch(url)\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            this.props.afterSubmit(data);\r\n        });\r\n\r\n        localStorage.setItem(\"PlayerId\", this.state.value);\r\n        event.preventDefault();\r\n    }\r\n  \r\n    render() {\r\n      return (\r\n        <form onSubmit={this.handleSubmit}>\r\n            <label>\r\n                On the website go to Points and copy this number from the URL: <i>https://fantasy.premierleague.com/entry/</i><b>2458458</b><i>/event/16</i>\r\n                <br/>\r\n                <br/>\r\n                Player ID:                    \r\n                <br/>\r\n                <input \r\n                    type=\"text\" \r\n                    placeholder=\"e.g. 2458458\"\r\n                    value={this.state.value} \r\n                    onChange={this.handleChange} />        \r\n            </label>\r\n            <br/>\r\n            <input type=\"submit\" value=\"Check\" className=\"submit-entry\" />\r\n        </form>\r\n      );\r\n    }\r\n}\r\n\r\nfunction PlayerName(props) {\r\n    return (\r\n        <div className=\"entry-info\" >\r\n            {props.value}\r\n            <button onClick={props.onChange} className=\"change-entry\"></button>\r\n        </div>\r\n    );    \r\n}\r\n\r\nclass LeagueForm extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {id: -1, value: \"Select a League\", leagues: props.leagues};\r\n  \r\n        this.handleChange = this.handleChange.bind(this);\r\n    }\r\n  \r\n    handleChange(event) {    \r\n        const index = event.target.selectedIndex;\r\n        const optionElement = event.target[index];\r\n        const leagueId = optionElement.getAttribute('league-id');\r\n        this.setState({id: leagueId, value: event.target.value});  \r\n\r\n        const allLeagues = [ ...this.state.leagues.classic, ...this.state.leagues.h2h ];\r\n        const league = allLeagues.find(el => el.id === +leagueId);\r\n        this.props.onChange(league);\r\n    }\r\n  \r\n    render() {\r\n        const classicLeagues = this.state.leagues.classic && this.state.leagues.classic.filter(le => le.league_type === 'x');\r\n        const h2hLeagues = this.state.leagues.h2h;\r\n        const globalLeagues = this.state.leagues.classic.filter(le => le.league_type === 's');\r\n\r\n        return (\r\n            <form className=\"league-form\">\r\n                <label>\r\n                    {/* League:<br/> */}\r\n                    <select value={this.state.value} onChange={this.handleChange} className=\"league-select\">\r\n                        <option value=\"Select a League\" disabled hidden>Select a League</option>\r\n                        <LeagueGroup leagues={classicLeagues} title=\"Classic Leagues\" />       \r\n                        <LeagueGroup leagues={h2hLeagues} title=\"Head-to-Head Leagues\" />       \r\n                        <LeagueGroup leagues={globalLeagues} title=\"Global Leagues\" />       \r\n                    </select>       \r\n                </label>\r\n            </form>\r\n        );\r\n    }\r\n}\r\n\r\nfunction LeagueGroup(props) {\r\n    if (props.leagues && props.leagues.length > 0) {\r\n        const options = props.leagues.map(le => (\r\n            <option key={le.id} league-id={le.id} value={le.name}>{le.entry_rank} - {le.name}</option>\r\n        ));\r\n\r\n        return (\r\n            <optgroup label={props.title}>                    \r\n                {options}\r\n            </optgroup>  \r\n        );\r\n    } else {\r\n        return null;\r\n    }\r\n}\r\n\r\nclass PlayerSelector extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {value: \"Select a player\"};\r\n\r\n        this.handleChange = this.handleChange.bind(this);\r\n    }\r\n\r\n    handleChange(event) {\r\n        this.setState({value: +event.target.value});\r\n        this.props.onChange(+event.target.value);\r\n    }\r\n\r\n    render() {\r\n        let players = this.props.rankings.map(pla => (\r\n            <option key={pla.rank} value={pla.entry}>\r\n                {pla.event_total ? \r\n                    `${pla.entry_name} ${pla.total} (${pla.event_total})` :\r\n                    `${pla.entry_name} ${pla.total} (${pla.matches_won}-${pla.matches_drawn}-${pla.matches_lost})`}\r\n            </option>\r\n        ));\r\n    \r\n        return (\r\n            <select value={this.state.value} onChange={this.handleChange} className=\"player-select\">\r\n                <option value=\"Select a player\" disabled hidden>Select a player</option>\r\n                {players}\r\n            </select>\r\n        ); \r\n    }  \r\n}\r\n\r\nfunction PlayerPoints(props) {\r\n    return (\r\n        <div className=\"points-wrapper\">\r\n            <span className=\"points\">\r\n                {props.points}\r\n            </span>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction PlayerPicks(props) {\r\n    const captainSvg = (<svg viewBox=\"0 0 24 24\"><circle cx=\"12\" cy=\"12\" r=\"12\"></circle><path d=\"M15.0769667,14.370341 C14.4472145,15.2780796 13.4066319,15.8124328 12.3019667,15.795341 C10.4380057,15.795341 8.92696674,14.284302 8.92696674,12.420341 C8.92696674,10.55638 10.4380057,9.045341 12.3019667,9.045341 C13.3988206,9.06061696 14.42546,9.58781014 15.0769667,10.470341 L17.2519667,8.295341 C15.3643505,6.02401882 12.1615491,5.35094208 9.51934028,6.67031017 C6.87713147,7.98967826 5.49079334,10.954309 6.17225952,13.8279136 C6.8537257,16.7015182 9.42367333,18.7279285 12.3769667,18.720341 C14.2708124,18.7262708 16.0646133,17.8707658 17.2519667,16.395341 L15.0769667,14.370341 Z\" fill=\"currentColor\"></path></svg>);\r\n    const viceCaptainSvg = (<svg viewBox=\"0 0 24 24\"><circle cx=\"12\" cy=\"12\" r=\"12\"></circle><polygon points=\"13.5 .375 8.925 12.375 4.65 12.375 0 .375 3.15 .375 6.75 10.05 10.35 .375\" transform=\"translate(5.25 6)\" fill=\"currentColor\"></polygon></svg>);\r\n\r\n    let picks = props.picks.map(pick => (\r\n        <li key={pick.id} className=\"player-pick\">\r\n            <span className=\"player-pick-name\">{pick.name}</span>\r\n            {pick.isCaptain ? <span className=\"cap-icon\">{captainSvg}</span> : null}\r\n            {pick.isViceCaptain ? <span className=\"cap-icon\">{viceCaptainSvg}</span> : null}\r\n            <span className=\"player-pick-points\">{pick.points}</span>\r\n        </li>\r\n    ));\r\n\r\n    return (\r\n        <div className=\"player-picks-wrapper\">\r\n            <ul className=\"player-picks\">\r\n                {picks}\r\n            </ul>\r\n        </div>\r\n    );\r\n}\r\n\r\nclass PlayerInfo extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            rankings: props.rankings, \r\n            playerId: null, \r\n            event: props.event, \r\n            picks: null, \r\n            footballPlayers: null,\r\n            playersToRender: null,\r\n            liveStats: null,\r\n            totalPoints: 0\r\n        };\r\n\r\n        fetch(`${ProxyUrl}${ApiBaseUrl}/bootstrap-static/`)\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            this.setState({footballPlayers: data.elements});\r\n        });\r\n\r\n        fetch(`${ProxyUrl}${ApiBaseUrl}/event/${this.state.event}/live/`)\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            this.setState({liveStats: data.elements});\r\n        });\r\n    }\r\n\r\n    handlePlayerChange(playerId) {\r\n        this.setState({playerId: playerId});\r\n\r\n        const url = `${ProxyUrl}${ApiBaseUrl}/entry/${playerId}/event/${this.state.event}/picks/`;\r\n\r\n        fetch(url)\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            this.setState({picks: data.picks});\r\n\r\n            if (this.state.footballPlayers && this.state.liveStats) {\r\n                let playersToRender = data.picks.map(pick => {\r\n                    let actualPlayer = this.state.footballPlayers.find(pl => pl.id === pick.element);\r\n                    let actualStat = this.state.liveStats.find(pl => pl.id === pick.element);\r\n\r\n                    let decoratedPick = {\r\n                        id: pick.element, \r\n                        name: actualPlayer.web_name, \r\n                        points: actualStat.stats.total_points,\r\n                        isCaptain: pick.is_captain,\r\n                        isViceCaptain: pick.is_vice_captain,\r\n                        multiplier: pick.multiplier,\r\n                        position: pick.position\r\n                    };\r\n\r\n                    decoratedPick.points = this.getPickPoints(decoratedPick);\r\n\r\n                    return decoratedPick;\r\n                });\r\n\r\n                this.setState({playersToRender: playersToRender});\r\n            }\r\n\r\n            if (this.state.playersToRender) {\r\n                let totalPoints = this.state.playersToRender.slice(0, 11).reduce((acc, curr) => acc + curr.points, 0);\r\n\r\n                this.setState({totalPoints: totalPoints});\r\n            }\r\n        });\r\n    }\r\n\r\n    getPickPoints(pick) {\r\n        if (pick.isCaptain) {\r\n            return pick.points * pick.multiplier;\r\n        } else {\r\n            return pick.points;\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"player-info\">\r\n                {this.state.rankings && \r\n                    <PlayerSelector rankings={this.state.rankings} onChange={(pi) => this.handlePlayerChange(pi)} />} \r\n                <PlayerPoints points={this.state.totalPoints} />    \r\n                {this.state.playersToRender && \r\n                    <PlayerPicks picks={this.state.playersToRender} />}                           \r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass App extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {playerName: null, playerInfo: null, currentEvent: null , leagues: null, selectedLeague: null, rankings: null};\r\n    }\r\n\r\n    handlePlayerInfo(data) {      \r\n        let playerName = `${data.name}, ${data.player_first_name} ${data.player_last_name}`;\r\n        this.setState({playerName: playerName, playerInfo: data, currentEvent: data.current_event, leagues: data.leagues});        \r\n    }\r\n\r\n    handlePlayerChange() {\r\n        this.setState({playerName: null, playerInfo: null, leagues: null});\r\n    }\r\n\r\n    handleLeagueChange(league) {\r\n        this.setState({selectedLeague: league});\r\n\r\n        const urlLeague = league.scoring === 'c' ? '/leagues-classic/' : '/leagues-h2h/';\r\n        const url = `${ProxyUrl}${ApiBaseUrl}${urlLeague}${league.id}/standings/`;\r\n\r\n        this.setState({rankings: null});\r\n\r\n        fetch(url)\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            this.setState({rankings: data.standings.results});\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"app\">\r\n                {!this.state.playerName && <EntryForm afterSubmit={(pi) => this.handlePlayerInfo(pi)} />}\r\n                {this.state.playerName && <PlayerName value={this.state.playerName} onChange={() => this.handlePlayerChange()} />}\r\n                {this.state.leagues && <LeagueForm leagues={this.state.leagues} onChange={(d) => this.handleLeagueChange(d)} />} \r\n                <div className=\"players-info\">\r\n                    {this.state.rankings && <PlayerInfo rankings={this.state.rankings} event={this.state.currentEvent} />}\r\n                    {this.state.rankings && <PlayerInfo rankings={this.state.rankings} event={this.state.currentEvent} />}   \r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n  \r\n// ========================================\r\n  \r\nReactDOM.render(\r\n    <App />,\r\n    document.getElementById('root')\r\n);"],"sourceRoot":""}